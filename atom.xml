<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>初心</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2018-04-03T15:04:30.578Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>LeeBin</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>如何在next配置站内的搜索引擎？</title>
    <link href="http://yoursite.com/2018/04/03/%E5%A6%82%E4%BD%95%E5%9C%A8next%E9%85%8D%E7%BD%AE%E7%AB%99%E5%86%85%E7%9A%84%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%EF%BC%9F/"/>
    <id>http://yoursite.com/2018/04/03/如何在next配置站内的搜索引擎？/</id>
    <published>2018-04-03T07:13:52.000Z</published>
    <updated>2018-04-03T15:04:30.578Z</updated>
    
    <content type="html"><![CDATA[<p>本文介绍如何在next配置站内的搜索引擎。<br><a id="more"></a></p><h2 id="配置过程"><a href="#配置过程" class="headerlink" title="配置过程"></a>配置过程</h2><ul><li><p>安装hexo-generator-searchdb插件，以管理员身份打开cmd进入项目目录下，运行</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> hexo-generator-searchdb <span class="comment">--save</span></span><br></pre></td></tr></table></figure></li><li><p>在站点的-config.yml文件中增加</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">search:</span></span><br><span class="line"><span class="symbol">  path:</span> search.xml</span><br><span class="line"><span class="symbol">  field:</span> post</span><br><span class="line"><span class="symbol">  format:</span> html</span><br><span class="line"><span class="symbol">  limit:</span> <span class="number">10000</span></span><br></pre></td></tr></table></figure></li><li><p>配置theme/next/-config.yml文件</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># Algolia Search</span></span><br><span class="line"><span class="symbol">algolia_search:</span></span><br><span class="line"><span class="symbol">  enable:</span> false</span><br><span class="line"><span class="symbol">  hits:</span></span><br><span class="line"><span class="symbol">    per_page:</span> <span class="number">10</span></span><br><span class="line"><span class="symbol">  labels:</span></span><br><span class="line"><span class="symbol">    input_placeholder:</span> Search for Posts</span><br><span class="line"><span class="symbol">    hits_empty:</span> <span class="string">"We didn't find any results for the search: $&#123;query&#125;"</span></span><br><span class="line"><span class="symbol">    hits_stats:</span> <span class="string">"$&#123;hits&#125; results found in $&#123;time&#125; ms"</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta"># Local search</span></span><br><span class="line"><span class="meta"># Dependencies: https:<span class="comment">//github.com/flashlab/hexo-generator-search</span></span></span><br><span class="line"><span class="symbol">local_search:</span></span><br><span class="line"><span class="symbol">  enable:</span> true</span><br><span class="line">  <span class="meta"># <span class="meta-keyword">if</span> auto, trigger search by changing input</span></span><br><span class="line">  <span class="meta"># <span class="meta-keyword">if</span> manual, trigger search by pressing enter key or search button</span></span><br><span class="line"><span class="symbol">  trigger:</span> auto</span><br><span class="line">  <span class="meta"># show top n results per article, show all results by setting to -1</span></span><br><span class="line"><span class="symbol">  top_n_per_article:</span> <span class="number">1</span></span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文介绍如何在next配置站内的搜索引擎。&lt;br&gt;
    
    </summary>
    
      <category term="配置" scheme="http://yoursite.com/categories/%E9%85%8D%E7%BD%AE/"/>
    
    
      <category term="列表" scheme="http://yoursite.com/tags/%E5%88%97%E8%A1%A8/"/>
    
      <category term="配置" scheme="http://yoursite.com/tags/%E9%85%8D%E7%BD%AE/"/>
    
      <category term="next" scheme="http://yoursite.com/tags/next/"/>
    
  </entry>
  
  <entry>
    <title>linux shell入门练习</title>
    <link href="http://yoursite.com/2018/04/03/linux%20shell%E5%85%A5%E9%97%A8%E7%BB%83%E4%B9%A0/"/>
    <id>http://yoursite.com/2018/04/03/linux shell入门练习/</id>
    <published>2018-04-03T01:45:24.000Z</published>
    <updated>2018-04-03T01:58:05.475Z</updated>
    
    <content type="html"><![CDATA[<p>本文介绍linux shell的入门程序，后期会陆续更新。<br><a id="more"></a></p><h2 id="基本程序实例"><a href="#基本程序实例" class="headerlink" title="基本程序实例"></a>基本程序实例</h2><ul><li><p>计算文件夹下的文件数量</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"this is a shell print file's number in the local dir."</span></span><br><span class="line">ls &gt; filename.log</span><br><span class="line">y=1</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> $( cat filename.log )</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"the file number is <span class="variable">$y</span>"</span></span><br><span class="line">y=$(( <span class="variable">$y</span> + 1 ))</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line">rm -rf filename.log</span><br></pre></td></tr></table></figure></li><li><p>简单求和程序</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># author: leebin</span></span><br><span class="line">s=0</span><br><span class="line"><span class="keyword">for</span>(( i=1; i&lt;=100; i=i+1 ))</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">s=$(( <span class="variable">$s</span>+<span class="variable">$i</span> ))</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"the sum of 1+2+3+...+100 is <span class="variable">$s</span>"</span></span><br></pre></td></tr></table></figure></li><li><p>使用数组</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> morning noon afternoon evening</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"This time is <span class="variable">$x</span>"</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure></li><li><p>使用函数</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">func1</span></span>()&#123;</span><br><span class="line"><span class="built_in">echo</span> AAA</span><br><span class="line">&#125;</span><br><span class="line">func1</span><br><span class="line"><span class="built_in">echo</span> this is the end of the loop</span><br><span class="line"><span class="built_in">echo</span> Now this is the end of the script</span><br></pre></td></tr></table></figure></li><li><p>判断</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="keyword">if</span> [ -d /etc/mysql ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"the path is right!!"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"the path is not right"</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure></li><li><p>判断硬盘是否已经满了</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># Author: LeeBin</span></span><br><span class="line">rate=$( df | grep <span class="string">"sda"</span> | awk <span class="string">'&#123;print $5&#125;'</span>| cut -d <span class="string">"%"</span> -f 1 )</span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$rate</span> -ge 80 ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"Warning! /dev/sda1 is full!!"</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"/dev/sda1 is not full!!"</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure></li><li><p>until循环</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># Author:LeeBin</span></span><br><span class="line">i=1</span><br><span class="line">s=0</span><br><span class="line">until [ <span class="variable">$i</span> -gt 100 ]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">s=$(( <span class="variable">$s</span>+<span class="variable">$i</span> ))</span><br><span class="line">i=$(( <span class="variable">$i</span>+1 ))</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"the sum is <span class="variable">$s</span>"</span></span><br></pre></td></tr></table></figure></li><li><p>while循环</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">func1</span></span>()&#123;</span><br><span class="line">      <span class="built_in">echo</span> this is an example of a <span class="keyword">function</span></span><br><span class="line">&#125;</span><br><span class="line">count=1</span><br><span class="line"><span class="keyword">while</span> [ <span class="variable">$count</span> -le 5 ]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    func1</span><br><span class="line">    count=$[ <span class="variable">$count</span>+1 ]</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> end of loop</span><br><span class="line">func1</span><br><span class="line"><span class="built_in">echo</span> end of script</span><br></pre></td></tr></table></figure></li><li><p>while循环求和</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># Author:LeeBin</span></span><br><span class="line">i=1</span><br><span class="line">s=0</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="keyword">while</span> [ <span class="variable">$i</span> -le 100 ]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">s=$(( <span class="variable">$s</span>+<span class="variable">$i</span> ))</span><br><span class="line">i=$(( <span class="variable">$i</span>+1 ))</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"the sum is <span class="variable">$s</span>"</span></span><br></pre></td></tr></table></figure></li><li><p>备份脚本</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/bin/sh</span></span><br><span class="line"><span class="comment"># auto mail for system info</span></span><br><span class="line"><span class="comment"># time</span></span><br><span class="line">/bin/date +%F &gt;&gt; ~/app/<span class="keyword">shell</span><span class="bash">/sysinfo</span></span><br><span class="line"><span class="bash"><span class="built_in">echo</span> &gt;&gt; ~/app/shell/sysinfo</span></span><br><span class="line"><span class="bash"><span class="comment"># disk info</span></span></span><br><span class="line"><span class="bash"><span class="built_in">echo</span> <span class="string">"disk info:"</span> &gt;&gt; ~/app/shell/sysinfo</span></span><br><span class="line"><span class="bash">/bin/df -h &gt;&gt; ~/app/shell/sysinfo</span></span><br><span class="line"><span class="bash"><span class="built_in">echo</span> &gt;&gt; ~/app/shell/sysinfo</span></span><br><span class="line"><span class="bash"><span class="built_in">echo</span> <span class="string">"online users"</span> &gt;&gt; ~/app/shell/sysinfo</span></span><br><span class="line"><span class="bash">/usr/bin/who | /bin/grep -v root &gt;&gt; ~/app/shell/sysinfo</span></span><br><span class="line"><span class="bash"><span class="built_in">echo</span> &gt;&gt; ~/app/shell/sysinfo</span></span><br><span class="line"><span class="bash"><span class="built_in">echo</span> <span class="string">"memory info:"</span> &gt;&gt; ~/app/shell/sysinfo</span></span><br><span class="line"><span class="bash">/usr/bin/free -m &gt;&gt; ~/app/shell/sysinfo</span></span><br><span class="line"><span class="bash"><span class="built_in">echo</span> &gt;&gt; ~/app/shell/sysinfo</span></span><br></pre></td></tr></table></figure></li><li><p>case语句</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># author: leebin</span></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">"Please choose yes/no: "</span> -t 30 cho</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="keyword">case</span> <span class="variable">$cho</span> <span class="keyword">in</span></span><br><span class="line"><span class="string">"yes"</span>)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"Your choose is yes!!"</span></span><br><span class="line">;;</span><br><span class="line"><span class="string">"no"</span>)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"Your choose is no!!"</span></span><br><span class="line">;;</span><br><span class="line">*)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"Your choose is error!!"</span></span><br><span class="line">;;</span><br><span class="line"><span class="keyword">esac</span></span><br><span class="line"><span class="comment">#</span></span><br></pre></td></tr></table></figure></li><li><p>批量解压缩</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># author: leebin</span></span><br><span class="line"><span class="built_in">cd</span> /lamp</span><br><span class="line">ls *.tar.gz &gt; ls.log</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> $( cat ls.log )</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">tar -zxvf <span class="variable">$i</span> &amp;&gt; /dev/null</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">rm -rf /lamp/ls.log</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文介绍linux shell的入门程序，后期会陆续更新。&lt;br&gt;
    
    </summary>
    
      <category term="shell" scheme="http://yoursite.com/categories/shell/"/>
    
    
      <category term="列表" scheme="http://yoursite.com/tags/%E5%88%97%E8%A1%A8/"/>
    
      <category term="shell" scheme="http://yoursite.com/tags/shell/"/>
    
      <category term="linux" scheme="http://yoursite.com/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>如何将hexo的git pages项目部署vps？</title>
    <link href="http://yoursite.com/2018/03/29/%E5%A6%82%E4%BD%95%E5%B0%86hexo%E7%9A%84git%20pages%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2vps%EF%BC%9F/"/>
    <id>http://yoursite.com/2018/03/29/如何将hexo的git pages项目部署vps？/</id>
    <published>2018-03-29T05:56:11.000Z</published>
    <updated>2018-04-03T15:07:22.050Z</updated>
    
    <content type="html"><![CDATA[<p>本文介绍如何在vps上搭建自己的blog。<br><a id="more"></a></p><h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><ul><li>digitalocean上ubuntu的vps一台</li><li>window10+nodejs+hexo软件环境，参考<a href="https://leebin.top/2018/03/27/%E4%BD%BF%E7%94%A8github%20pages%E5%92%8Chexo%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2/" target="_blank" rel="noopener">hexo搭建博客</a></li></ul><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><ul><li>方案一 vps上使用本地模式搭建hexo博客，使用Nginx将域名指向 <a href="http://localhost:4000" target="_blank" rel="noopener">http://localhost:4000</a></li><li>方案二 在客户端写blog，git推送到服务端，服务端用Nginx解析网页文件</li></ul><h2 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h2><ul><li>下文分为众多的详细步骤</li></ul><h3 id="安装git和nginx"><a href="#安装git和nginx" class="headerlink" title="安装git和nginx"></a>安装git和nginx</h3><ul><li>安装软件git和nginx<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apt-<span class="builtin-name">get</span> update</span><br><span class="line">apt-<span class="builtin-name">get</span> install git</span><br><span class="line">apt-<span class="builtin-name">get</span> install nginx</span><br></pre></td></tr></table></figure></li></ul><h3 id="配置git用户和仓库"><a href="#配置git用户和仓库" class="headerlink" title="配置git用户和仓库"></a>配置git用户和仓库</h3><ul><li><p>git用户权限设定（可以不需要）</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">chmod <span class="number">740</span> /etc/sudoers</span><br><span class="line">vim /etc/sudoers</span><br><span class="line">#在root <span class="keyword">ALL</span>=(<span class="keyword">ALL</span>:<span class="keyword">ALL</span>) <span class="keyword">ALL</span>下面新增一行</span><br><span class="line">git <span class="keyword">ALL</span>=(<span class="keyword">ALL</span>:<span class="keyword">ALL</span>) <span class="keyword">ALL</span></span><br><span class="line">chmod <span class="number">440</span> /etc/sudoers</span><br></pre></td></tr></table></figure></li><li><p>配置git用户和仓库, 参考<a href="https://leebin.top/2018/03/27/%E5%A6%82%E4%BD%95%E5%88%A9%E7%94%A8ubuntu%E5%AE%9E%E7%8E%B0%E7%A7%81%E6%9C%89git%E6%9C%8D%E5%8A%A1%E7%AB%AF-%E9%99%84ssh%E6%93%8D%E4%BD%9C%EF%BC%9F/" target="_blank" rel="noopener">在vps上构建私有git服务器</a></p></li></ul><h3 id="配置git-hooks"><a href="#配置git-hooks" class="headerlink" title="配置git hooks"></a>配置git hooks</h3><ul><li><p>在hexo.git/hooks/目录下修改post-update.sample为post-update，并覆盖加入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">GIT_REPO=/home/git/hexo.git</span><br><span class="line">TMP_GIT_CLONE=/tmp/hexo</span><br><span class="line">PUBLIC_WWW=/var/www/hexo</span><br><span class="line">rm -rf <span class="variable">$&#123;TMP_GIT_CLONE&#125;</span></span><br><span class="line">git <span class="built_in">clone</span> <span class="variable">$GIT_REPO</span> <span class="variable">$TMP_GIT_CLONE</span></span><br><span class="line">rm -rf <span class="variable">$&#123;PUBLIC_WWW&#125;</span>/*</span><br><span class="line">cp -rf <span class="variable">$&#123;TMP_GIT_CLONE&#125;</span>/* <span class="variable">$&#123;PUBLIC_WWW&#125;</span></span><br></pre></td></tr></table></figure></li><li><p>保证post-update有执行权限</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x post-receive</span><br></pre></td></tr></table></figure></li></ul><h3 id="nginx配置"><a href="#nginx配置" class="headerlink" title="nginx配置"></a>nginx配置</h3><ul><li><p>新建站点文件夹</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p /<span class="built_in">var</span>/www/blog</span><br><span class="line">chmod -R <span class="number">775</span> /<span class="built_in">var</span>/www/blog</span><br><span class="line">chown -R git /<span class="built_in">var</span>/www/blog</span><br><span class="line">chgrp -R git /<span class="built_in">var</span>/www/blog</span><br></pre></td></tr></table></figure></li><li><p>配nginx的站点文件2处</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#配置1</span></span><br><span class="line"><span class="attribute">vim</span> /etc/nginx/conf.d/hexo.conf</span><br><span class="line">server &#123;</span><br><span class="line">    <span class="attribute">listen</span>  <span class="number">80</span> ;</span><br><span class="line">    <span class="attribute">listen</span> [::]:<span class="number">80</span>;</span><br><span class="line">    <span class="attribute">root</span> /var/www/blog;</span><br><span class="line">    <span class="attribute">server_name</span> clearsky.me www.clearsky.me; <span class="comment">#server_ip</span></span><br><span class="line">    <span class="attribute">access_log</span>  /var/log/nginx/hexo_access.log;</span><br><span class="line">    <span class="attribute">error_log</span>   /var/log/nginx/hexo_error.log;</span><br><span class="line">    <span class="attribute">error_page</span> <span class="number">404</span> =  /<span class="number">404</span>.html;</span><br><span class="line">    <span class="attribute">location</span> <span class="regexp">~* ^.+\.(ico|gif|jpg|jpeg|png)$</span> &#123;</span><br><span class="line">        <span class="attribute">root</span> /var/www/blog;</span><br><span class="line">        <span class="attribute">access_log</span>   <span class="literal">off</span>;</span><br><span class="line">        <span class="attribute">expires</span>      <span class="number">1d</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="attribute">location</span> <span class="regexp">~* ^.+\.(css|js|txt|xml|swf|wav)$</span> &#123;</span><br><span class="line">        <span class="attribute">root</span> /var/www/blog;</span><br><span class="line">        <span class="attribute">access_log</span>   <span class="literal">off</span>;</span><br><span class="line">        <span class="attribute">expires</span>      <span class="number">10m</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="attribute">location</span> / &#123;</span><br><span class="line">        <span class="attribute">root</span> /var/www/blog;</span><br><span class="line">        <span class="attribute">if</span> (-f <span class="variable">$request_filename</span>) &#123;</span><br><span class="line">            <span class="attribute">rewrite</span><span class="regexp"> ^/(.*)$</span>  /<span class="variable">$1</span> <span class="literal">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="attribute">location</span> /nginx_status &#123;</span><br><span class="line">        <span class="attribute">stub_status</span> <span class="literal">on</span>;</span><br><span class="line">        <span class="attribute">access_log</span> <span class="literal">off</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">#配置2</span></span><br><span class="line"><span class="attribute">vim</span> /etc/nginx/sites-available/default</span><br><span class="line">root /var/www/html;</span><br></pre></td></tr></table></figure></li><li><p>重启nginx服务器</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">service nginx restart</span><br><span class="line"><span class="comment">#或者</span></span><br><span class="line">/etc/init.d/nginx <span class="literal">stop</span></span><br><span class="line">/etc/init.d/nginx <span class="literal">start</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="后续"><a href="#后续" class="headerlink" title="后续"></a>后续</h2><ul><li>修改本地的blog源文件，配置推送git服务器，推送到vps服务器上</li><li>参考<a href="https://leebin.top/2018/03/29/git%20pages%E7%9A%84%E8%BF%81%E7%A7%BB%E5%92%8C%E5%A4%9A%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2/" target="_blank" rel="noopener">git pages多服务器部署</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文介绍如何在vps上搭建自己的blog。&lt;br&gt;
    
    </summary>
    
      <category term="配置" scheme="http://yoursite.com/categories/%E9%85%8D%E7%BD%AE/"/>
    
    
      <category term="列表" scheme="http://yoursite.com/tags/%E5%88%97%E8%A1%A8/"/>
    
      <category term="git" scheme="http://yoursite.com/tags/git/"/>
    
      <category term="配置" scheme="http://yoursite.com/tags/%E9%85%8D%E7%BD%AE/"/>
    
      <category term="vps" scheme="http://yoursite.com/tags/vps/"/>
    
  </entry>
  
  <entry>
    <title>git pages的迁移和多服务器部署</title>
    <link href="http://yoursite.com/2018/03/29/git%20pages%E7%9A%84%E8%BF%81%E7%A7%BB%E5%92%8C%E5%A4%9A%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2/"/>
    <id>http://yoursite.com/2018/03/29/git pages的迁移和多服务器部署/</id>
    <published>2018-03-29T01:34:52.000Z</published>
    <updated>2018-03-29T01:54:40.199Z</updated>
    
    <content type="html"><![CDATA[<p>本文介绍如何将github上的项目迁移到gitee上，如何实现源文件多服务器的部署。<br><a id="more"></a></p><h2 id="github-pages迁移到gitee服务器上"><a href="#github-pages迁移到gitee服务器上" class="headerlink" title="github pages迁移到gitee服务器上"></a>github pages迁移到gitee服务器上</h2><ul><li>在gitee上新建一个和gitee用户名一样的git仓库，并且在pages标签开启pages服务</li><li>克隆github pages仓库到本地，安装必要的插件，保证github pages能够与github服务器正常上传部署</li><li><p>更改github仓库/.git/config文件</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[core]</span><br><span class="line">repositoryformatversion = <span class="number">0</span></span><br><span class="line">filemode = <span class="keyword">false</span></span><br><span class="line">bare = <span class="keyword">false</span></span><br><span class="line">logallrefupdates = <span class="keyword">true</span></span><br><span class="line">symlinks = <span class="keyword">false</span></span><br><span class="line">ignorecase = <span class="keyword">true</span></span><br><span class="line">[remote <span class="string">"origin"</span>]</span><br><span class="line">url = git<span class="variable">@github</span>.<span class="symbol">com:</span>xjdlb/xjdlb.github.io.git</span><br><span class="line">fetch = +refs/heads/*<span class="symbol">:refs/remotes/origin/*</span></span><br><span class="line">[branch <span class="string">"master"</span>]</span><br><span class="line">remote = origin</span><br><span class="line">merge = refs/heads/master</span><br></pre></td></tr></table></figure></li><li><p>更改url为gitee仓库的url</p></li><li><p>更改github仓库/-config.yml文件</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">deploy</span>:</span><br><span class="line">  <span class="attribute">type</span>: git</span><br><span class="line">  <span class="attribute">repo</span>:</span><br><span class="line">        <span class="attribute">gitee</span>: git<span class="variable">@gitee</span>.<span class="attribute">com</span>:bin_lee/bin_lee.git</span><br><span class="line">  <span class="attribute">branch</span>: master</span><br></pre></td></tr></table></figure></li><li><p>更改repo为gitee仓库的url</p></li><li>然后使用下面的脚本提交、推送、发布到gitee仓库，迁移就成功了<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">echo <span class="string">"hello"</span></span><br><span class="line">yy=<span class="variable">$(date +%y)</span></span><br><span class="line">mm=<span class="variable">$(date +%m)</span></span><br><span class="line">dd=<span class="variable">$(date +%d)</span></span><br><span class="line">HH=<span class="variable">$(date +%H)</span></span><br><span class="line">MM=<span class="variable">$(date +%M)</span></span><br><span class="line">SS=<span class="variable">$(date +%S)</span></span><br><span class="line">xW=<span class="variable">$(date +%U)</span></span><br><span class="line">we=<span class="variable">$(date +%a)</span></span><br><span class="line">xD=<span class="variable">$(date +%j)</span></span><br><span class="line">git status</span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">"</span></span><br><span class="line"><span class="string">$yy/$mm/$dd-$HH:$MM:$SS 把github服务器上的pages迁移到gitee上</span></span><br><span class="line"><span class="string">"</span></span><br><span class="line">echo <span class="string">"=================================="</span></span><br><span class="line">git push git@gitee.com:bin_lee/bin_lee.git hexo</span><br><span class="line">git  log --oneline | head</span><br><span class="line">echo <span class="string">"=================================="</span></span><br><span class="line">hexo clean &amp;&amp; hexo g -d</span><br></pre></td></tr></table></figure></li></ul><h2 id="迁移完成，实现多服务器部署"><a href="#迁移完成，实现多服务器部署" class="headerlink" title="迁移完成，实现多服务器部署"></a>迁移完成，实现多服务器部署</h2><ul><li><p>更改github仓库/.git/config文件，改为主要的服务器地址</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[core]</span><br><span class="line">repositoryformatversion = <span class="number">0</span></span><br><span class="line">filemode = <span class="keyword">false</span></span><br><span class="line">bare = <span class="keyword">false</span></span><br><span class="line">logallrefupdates = <span class="keyword">true</span></span><br><span class="line">symlinks = <span class="keyword">false</span></span><br><span class="line">ignorecase = <span class="keyword">true</span></span><br><span class="line">[remote <span class="string">"origin"</span>]</span><br><span class="line">url = git<span class="variable">@github</span>.<span class="symbol">com:</span>xjdlb/xjdlb.github.io.git</span><br><span class="line">fetch = +refs/heads/*<span class="symbol">:refs/remotes/origin/*</span></span><br><span class="line">[branch <span class="string">"master"</span>]</span><br><span class="line">remote = origin</span><br><span class="line">merge = refs/heads/master</span><br></pre></td></tr></table></figure></li><li><p>更改url为gitee仓库的url</p></li><li><p>更改github仓库/-config.yml文件</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">deploy</span>:</span><br><span class="line">  <span class="attribute">type</span>: git</span><br><span class="line">  <span class="attribute">repo</span>:</span><br><span class="line">        <span class="attribute">github</span>: git<span class="variable">@github</span>.<span class="attribute">com</span>:xjdlb/xjdlb.github.io.git</span><br><span class="line">        <span class="attribute">gitee</span>: git<span class="variable">@gitee</span>.<span class="attribute">com</span>:bin_lee/bin_lee.git</span><br><span class="line">  <span class="attribute">branch</span>: master</span><br></pre></td></tr></table></figure></li><li><p>更改repo为gitee仓库的url</p></li><li>然后使用下面的脚本提交、推送、发布到gitee仓库和github仓库，多服务器部署就成功了<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">echo <span class="string">"hello"</span></span><br><span class="line">yy=<span class="variable">$(date +%y)</span></span><br><span class="line">mm=<span class="variable">$(date +%m)</span></span><br><span class="line">dd=<span class="variable">$(date +%d)</span></span><br><span class="line">HH=<span class="variable">$(date +%H)</span></span><br><span class="line">MM=<span class="variable">$(date +%M)</span></span><br><span class="line">SS=<span class="variable">$(date +%S)</span></span><br><span class="line">xW=<span class="variable">$(date +%U)</span></span><br><span class="line">we=<span class="variable">$(date +%a)</span></span><br><span class="line">xD=<span class="variable">$(date +%j)</span></span><br><span class="line">git status</span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">"</span></span><br><span class="line"><span class="string">$yy/$mm/$dd-$HH:$MM:$SS 同时部署到两个服务器上测试</span></span><br><span class="line"><span class="string">"</span></span><br><span class="line">git push git@github.com:xjdlb/xjdlb.github.io.git hexo</span><br><span class="line">git  log --oneline | head</span><br><span class="line">echo <span class="string">"=================================="</span></span><br><span class="line">git push git@gitee.com:bin_lee/bin_lee.git hexo</span><br><span class="line">git  log --oneline | head</span><br><span class="line">echo <span class="string">"=================================="</span></span><br><span class="line">hexo clean &amp;&amp; hexo g -d</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文介绍如何将github上的项目迁移到gitee上，如何实现源文件多服务器的部署。&lt;br&gt;
    
    </summary>
    
      <category term="配置" scheme="http://yoursite.com/categories/%E9%85%8D%E7%BD%AE/"/>
    
    
      <category term="列表" scheme="http://yoursite.com/tags/%E5%88%97%E8%A1%A8/"/>
    
      <category term="git" scheme="http://yoursite.com/tags/git/"/>
    
      <category term="配置" scheme="http://yoursite.com/tags/%E9%85%8D%E7%BD%AE/"/>
    
  </entry>
  
  <entry>
    <title>如何将hexo源文件整合到部署的git中？</title>
    <link href="http://yoursite.com/2018/03/28/%E5%A6%82%E4%BD%95%E5%B0%86hexo%E6%BA%90%E6%96%87%E4%BB%B6%E6%95%B4%E5%90%88%E5%88%B0%E9%83%A8%E7%BD%B2%E7%9A%84git%E4%B8%AD%EF%BC%9F/"/>
    <id>http://yoursite.com/2018/03/28/如何将hexo源文件整合到部署的git中？/</id>
    <published>2018-03-28T06:46:11.000Z</published>
    <updated>2018-04-03T15:07:41.378Z</updated>
    
    <content type="html"><![CDATA[<p>本文介绍如何将hexo源文件整合到部署的git中，实现不携带源文件也能写博客，其中，发布和部署实现了自动化脚本操作。</p><a id="more"></a><h2 id="先决条件"><a href="#先决条件" class="headerlink" title="先决条件"></a>先决条件</h2><ul><li>已经使用了hexo部署了自己的blog</li><li>源文件没有丢失</li></ul><h2 id="克隆"><a href="#克隆" class="headerlink" title="克隆"></a>克隆</h2><ul><li>在github上克隆部署后的文件到本地客户端</li><li>使用git bash here进入git仓库</li><li>新建hexo分支并转换到hexo分支<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b hexo</span><br></pre></td></tr></table></figure></li></ul><h2 id="拷贝"><a href="#拷贝" class="headerlink" title="拷贝"></a>拷贝</h2><ul><li>git仓库转换到hexo分支</li><li>将源文件blog文件夹下的所有文件拷贝到上述git仓库中</li></ul><h2 id="创建自动化脚本"><a href="#创建自动化脚本" class="headerlink" title="创建自动化脚本"></a>创建自动化脚本</h2><ul><li>在git仓库的根目录下创建脚本</li><li><p>脚本1 create_new_page.sh</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">echo <span class="string">"hello"</span></span><br><span class="line">yy=$(date +%Y)</span><br><span class="line">mm=$(date +%m)</span><br><span class="line">dd=$(date +%d)</span><br><span class="line">HH=$(date +%H)</span><br><span class="line">MM=$(date +%M)</span><br><span class="line">SS=$(date +%S)</span><br><span class="line">filename=<span class="string">"11111"</span></span><br><span class="line">filepostfix=<span class="string">".md"</span></span><br><span class="line">cd source/_posts</span><br><span class="line">touch $filename$filepostfix</span><br><span class="line">echo &gt; $filename$filepostfix</span><br><span class="line">echo <span class="string">"---"</span> <span class="meta">&gt;&gt; </span>$filename$filepostfix</span><br><span class="line">echo <span class="string">"title: $filename"</span> <span class="meta">&gt;&gt; </span>$filename$filepostfix</span><br><span class="line">echo <span class="string">"date: $yy-$mm-$dd $HH:$MM:$SS"</span> <span class="meta">&gt;&gt; </span>$filename$filepostfix</span><br><span class="line">echo <span class="string">"tags: [列表,2222,3333,4444]"</span> <span class="meta">&gt;&gt; </span>$filename$filepostfix</span><br><span class="line">echo <span class="string">"categories: 5555"</span> <span class="meta">&gt;&gt; </span>$filename$filepostfix</span><br><span class="line">echo <span class="string">"toc: true"</span> <span class="meta">&gt;&gt; </span>$filename$filepostfix</span><br><span class="line">echo <span class="string">"mathjax: true"</span> <span class="meta">&gt;&gt; </span>$filename$filepostfix</span><br><span class="line">echo <span class="string">"---"</span> <span class="meta">&gt;&gt; </span>$filename$filepostfix</span><br><span class="line">echo <span class="string">""</span> <span class="meta">&gt;&gt; </span>$filename$filepostfix</span><br><span class="line">echo <span class="string">"&lt;!-- more --&gt;"</span> <span class="meta">&gt;&gt; </span>$filename$filepostfix</span><br><span class="line">cd ../..</span><br></pre></td></tr></table></figure></li><li><p>文本1 commit.txt</p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">echo <span class="string">"hello"</span></span><br><span class="line">yy=<span class="variable">$(date +%y)</span></span><br><span class="line">mm=<span class="variable">$(date +%m)</span></span><br><span class="line">dd=<span class="variable">$(date +%d)</span></span><br><span class="line">HH=<span class="variable">$(date +%H)</span></span><br><span class="line">MM=<span class="variable">$(date +%M)</span></span><br><span class="line">SS=<span class="variable">$(date +%S)</span></span><br><span class="line">xW=<span class="variable">$(date +%U)</span></span><br><span class="line">we=<span class="variable">$(date +%a)</span></span><br><span class="line">xD=<span class="variable">$(date +%j)</span></span><br><span class="line">git status</span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">"</span></span><br><span class="line"><span class="string">$yy/$mm/$dd-$HH:$MM:$SS 新增了列表标签</span></span><br><span class="line"><span class="string">"</span></span><br><span class="line">git push origin hexo</span><br><span class="line">git  log --oneline | head</span><br><span class="line">echo <span class="string">"=================================="</span></span><br><span class="line">hexo clean &amp;&amp; hexo g -d</span><br></pre></td></tr></table></figure></li><li><p>脚本2 upload_and_deploy.sh</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ehco <span class="string">"push and deploy..."</span></span><br><span class="line"><span class="keyword">sh </span>commit.txt</span><br></pre></td></tr></table></figure></li><li><p>本次修改完成直接在commit.txt中修改commit，然后运行upload_and_deploy.sh，即可上传代码到hexo分支，发布blog到master分支</p></li></ul><h2 id="换个地点继续写作"><a href="#换个地点继续写作" class="headerlink" title="换个地点继续写作"></a>换个地点继续写作</h2><ul><li>先决条件：电脑+网络+nodejs+hexo</li><li>克隆仓库到本地</li><li>在仓库中建立hexo配置脚本 init_hexo_after_clone.sh<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git checkout hexo</span><br><span class="line">npm <span class="keyword">install</span> hexo</span><br><span class="line">npm <span class="keyword">install</span></span><br><span class="line">npm <span class="keyword">install</span> hexo-deployer-git</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文介绍如何将hexo源文件整合到部署的git中，实现不携带源文件也能写博客，其中，发布和部署实现了自动化脚本操作。&lt;/p&gt;
    
    </summary>
    
      <category term="配置" scheme="http://yoursite.com/categories/%E9%85%8D%E7%BD%AE/"/>
    
    
      <category term="列表" scheme="http://yoursite.com/tags/%E5%88%97%E8%A1%A8/"/>
    
      <category term="git" scheme="http://yoursite.com/tags/git/"/>
    
      <category term="配置" scheme="http://yoursite.com/tags/%E9%85%8D%E7%BD%AE/"/>
    
      <category term="hexo" scheme="http://yoursite.com/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>hexo部署在github和gitee上的坑</title>
    <link href="http://yoursite.com/2018/03/28/hexo%E9%83%A8%E7%BD%B2%E5%9C%A8github%E5%92%8Cgitee%E4%B8%8A%E7%9A%84%E5%9D%91/"/>
    <id>http://yoursite.com/2018/03/28/hexo部署在github和gitee上的坑/</id>
    <published>2018-03-28T02:00:53.000Z</published>
    <updated>2018-03-28T06:40:12.342Z</updated>
    
    <content type="html"><![CDATA[<p>本文介绍了hexo博客github和gitee上部署时候遇到的坑。<br><a id="more"></a></p><h2 id="遇到的坑列举如下"><a href="#遇到的坑列举如下" class="headerlink" title="遇到的坑列举如下"></a>遇到的坑列举如下</h2><ul><li>gitee不支持个性化的域名绑定，所以不要试图申请阿里云的域名，将域名指向gitee pages。</li><li>github pages支持个性化域名的绑定，需要在blog/source目录下新建CNAME文件，并写入自己域名。</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文介绍了hexo博客github和gitee上部署时候遇到的坑。&lt;br&gt;
    
    </summary>
    
      <category term="配置" scheme="http://yoursite.com/categories/%E9%85%8D%E7%BD%AE/"/>
    
    
      <category term="列表" scheme="http://yoursite.com/tags/%E5%88%97%E8%A1%A8/"/>
    
      <category term="github" scheme="http://yoursite.com/tags/github/"/>
    
      <category term="hexo" scheme="http://yoursite.com/tags/hexo/"/>
    
      <category term="gitee" scheme="http://yoursite.com/tags/gitee/"/>
    
      <category term="部署" scheme="http://yoursite.com/tags/%E9%83%A8%E7%BD%B2/"/>
    
  </entry>
  
  <entry>
    <title>hexo的主题相关的配置</title>
    <link href="http://yoursite.com/2018/03/27/hexo%E7%9A%84%E4%B8%BB%E9%A2%98%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE/"/>
    <id>http://yoursite.com/2018/03/27/hexo的主题相关配置/</id>
    <published>2018-03-27T05:00:00.000Z</published>
    <updated>2018-03-28T06:40:24.822Z</updated>
    
    <content type="html"><![CDATA[<p>本文将逐渐介绍blog和themes相关的配置方法.<br><a id="more"></a></p><h2 id="导航上的首页、标签、分类、关于等配置"><a href="#导航上的首页、标签、分类、关于等配置" class="headerlink" title="导航上的首页、标签、分类、关于等配置"></a>导航上的首页、标签、分类、关于等配置</h2><ul><li>保留blog下的配置文件中的首页、标签、分类、关于的目录正确</li><li>在theme下配置文件打开menu相关的导航</li><li><p>博文前面文件为：</p><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">title: 使用github pages和hexo搭建自己的博客</span><br><span class="line">date: 2018<span class="string">-03</span><span class="string">-27</span> 13:56:08</span><br><span class="line"><span class="keyword">tags:</span> [githubpages,hexo,配置]</span><br><span class="line">categories: 配置</span><br><span class="line">toc: true</span><br><span class="line">mathjax: true</span><br></pre></td></tr></table></figure></li><li><p>或者</p><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">title: 如何利用ubuntu云服务器实现私有git服务端-附ssh常见操作？</span><br><span class="line">date: 2018<span class="string">-03</span><span class="string">-27</span> 18:37:32</span><br><span class="line"><span class="keyword">tags:</span></span><br><span class="line">- git</span><br><span class="line">- 配置</span><br><span class="line">categories: 配置</span><br><span class="line">toc: true</span><br><span class="line">mathjax: true</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文将逐渐介绍blog和themes相关的配置方法.&lt;br&gt;
    
    </summary>
    
      <category term="配置" scheme="http://yoursite.com/categories/%E9%85%8D%E7%BD%AE/"/>
    
    
      <category term="列表" scheme="http://yoursite.com/tags/%E5%88%97%E8%A1%A8/"/>
    
      <category term="配置" scheme="http://yoursite.com/tags/%E9%85%8D%E7%BD%AE/"/>
    
      <category term="hexo" scheme="http://yoursite.com/tags/hexo/"/>
    
      <category term="githubpages" scheme="http://yoursite.com/tags/githubpages/"/>
    
  </entry>
  
  <entry>
    <title>使用github pages和hexo搭建自己的博客</title>
    <link href="http://yoursite.com/2018/03/27/%E4%BD%BF%E7%94%A8github%20pages%E5%92%8Chexo%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2/"/>
    <id>http://yoursite.com/2018/03/27/使用github pages和hexo搭建自己的博客/</id>
    <published>2018-03-27T04:00:00.000Z</published>
    <updated>2018-03-28T06:39:50.911Z</updated>
    
    <content type="html"><![CDATA[<p>本文描述了如何使用github pages和hexo搭建自己的博客。<br><a id="more"></a></p><h2 id="安装node-js"><a href="#安装node-js" class="headerlink" title="安装node.js"></a>安装node.js</h2><ul><li><a href="https://nodejs.org/en/" target="_blank" rel="noopener">node.js下载地址</a></li><li>下载node.js，并安装</li></ul><h2 id="安装git并配置ssh密钥"><a href="#安装git并配置ssh密钥" class="headerlink" title="安装git并配置ssh密钥"></a>安装git并配置ssh密钥</h2><ul><li>在客户端下载<a href="https://git-scm.com/downloads/" target="_blank" rel="noopener">git下载地址</a></li><li>安装git</li><li>在客户端右键打开git bash here</li><li><p>设置user.name和user.email</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git<span class="built_in"> config </span>--global user.name <span class="string">"你的GitHub用户名"</span></span><br><span class="line">git<span class="built_in"> config </span>--global user.email <span class="string">"你的GitHub注册邮箱"</span></span><br></pre></td></tr></table></figure></li><li><p>生成ssh密钥</p><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -<span class="built_in">t</span> rsa -C <span class="string">"你的GitHub注册邮箱"</span></span><br></pre></td></tr></table></figure></li><li><p>显示密钥</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat ~<span class="regexp">/.ssh/i</span>d_rsa.pub</span><br></pre></td></tr></table></figure></li><li><p>添加密钥到github服务器中密钥管理<a href="https://github.com/settings/keys" target="_blank" rel="noopener">添加地址</a></p></li></ul><h2 id="安装hexo"><a href="#安装hexo" class="headerlink" title="安装hexo"></a>安装hexo</h2><ul><li>安装hexo、安装扩展插件<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装hexo</span></span><br><span class="line">npm <span class="keyword">install </span>hexo-cli g</span><br><span class="line"><span class="comment"># 初始化博客文件夹</span></span><br><span class="line">hexo init <span class="keyword">blog</span></span><br><span class="line"><span class="keyword"># </span>切换到该路径</span><br><span class="line">cd <span class="keyword">blog</span></span><br><span class="line"><span class="keyword"># </span>安装hexo的扩展插件</span><br><span class="line">npm <span class="keyword">install</span></span><br><span class="line"><span class="keyword"># </span>安装其它插件</span><br><span class="line">npm <span class="keyword">install </span>hexo-server --save</span><br><span class="line">npm <span class="keyword">install </span>hexo-admin --save</span><br><span class="line">npm <span class="keyword">install </span>hexo-generator-archive --save</span><br><span class="line">npm <span class="keyword">install </span>hexo-generator-feed --save</span><br><span class="line">npm <span class="keyword">install </span>hexo-generator-search --save</span><br><span class="line">npm <span class="keyword">install </span>hexo-generator-tag --save</span><br><span class="line">npm <span class="keyword">install </span>hexo-deployer-git --save</span><br><span class="line">npm <span class="keyword">install </span>hexo-generator-sitemap --save</span><br></pre></td></tr></table></figure></li></ul><h2 id="本地开发blog与本地测试"><a href="#本地开发blog与本地测试" class="headerlink" title="本地开发blog与本地测试"></a>本地开发blog与本地测试</h2><ul><li>添加自己的markdown到 blog/source/posts目录下</li><li><p>生成静态页面并开启服务器</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 生成静态页面</span></span><br><span class="line">hexo generate</span><br><span class="line"><span class="meta">#</span><span class="bash"> 开启本地服务器</span></span><br><span class="line">hexo s</span><br><span class="line"><span class="meta">#</span><span class="bash"> 或者</span></span><br><span class="line">hexo s -p 指定的port</span><br></pre></td></tr></table></figure></li><li><p>打开浏览器，地址栏中输入：<a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a></p></li></ul><h2 id="服务端新建自己的博客仓库"><a href="#服务端新建自己的博客仓库" class="headerlink" title="服务端新建自己的博客仓库"></a>服务端新建自己的博客仓库</h2><ul><li>在 <a href="https://github.com/new" target="_blank" rel="noopener">https://github.com/new</a> 中新建自己的仓库</li><li>其中Repository name要和Owner是一致的</li></ul><h2 id="客户端将hexo博客部署到github上"><a href="#客户端将hexo博客部署到github上" class="headerlink" title="客户端将hexo博客部署到github上"></a>客户端将hexo博客部署到github上</h2><ul><li><p>修改配置文件blog/config.yml，修改deploy项的内容</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Deployment 注释</span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># Docs: https://hexo.io/docs/deployment.html</span></span></span><br><span class="line">deploy:</span><br><span class="line"><span class="meta">  #</span><span class="bash"> 类型</span></span><br><span class="line">  type: git</span><br><span class="line"><span class="meta">  #</span><span class="bash"> 仓库</span></span><br><span class="line">  repo: git@github.com:xjdlb/xjdlb.github.io.git</span><br><span class="line"><span class="meta">  #</span><span class="bash"> 分支</span></span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure></li><li><p>注意：type: git中的冒号后面由空格</p></li><li>注意：将xjdlb换成自己的用户名</li></ul><h2 id="客户端将自己的blog部署hexo"><a href="#客户端将自己的blog部署hexo" class="headerlink" title="客户端将自己的blog部署hexo"></a>客户端将自己的blog部署hexo</h2><ul><li><p>将自己的项目部署到github pages中</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 清空静态页面</span></span><br><span class="line">hexo clean</span><br><span class="line"><span class="meta">#</span><span class="bash"> 生成静态页面</span></span><br><span class="line">hexo generate</span><br><span class="line"><span class="meta">#</span><span class="bash"> 部署</span></span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure></li><li><p>打开网页，输入 <a href="http://github_username.github.io" target="_blank" rel="noopener">http://github_username.github.io</a> 打开github上托管的博客</p></li><li>如我的博客地址是：<a href="http://xjdlb.github.io" target="_blank" rel="noopener">http://xjdlb.github.io</a></li></ul><h2 id="hexo命令缩写与组合"><a href="#hexo命令缩写与组合" class="headerlink" title="hexo命令缩写与组合"></a>hexo命令缩写与组合</h2><ul><li><p>含义</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hexo g：hexo generate</span><br><span class="line">hexo c：hexo clean</span><br><span class="line">hexo s：hexo server</span><br><span class="line">hexo d：hexo deploy</span><br></pre></td></tr></table></figure></li><li><p>组合</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># 清除、生成、启动</span></span><br><span class="line">hexo clean <span class="meta">&amp;&amp; hexo g -s</span></span><br><span class="line"><span class="meta"># 清除、生成、部署</span></span><br><span class="line">hexo clean <span class="meta">&amp;&amp; hexo g -d</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="主题相关配置"><a href="#主题相关配置" class="headerlink" title="主题相关配置"></a>主题相关配置</h2><ul><li>在<a href="https://hexo.io/themes/" target="_blank" rel="noopener">hexo themes</a>中下载相关的主题</li><li><p>下载方法在blog目录中克隆</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone http<span class="variable">s:</span>//github.<span class="keyword">com</span>/iissnan/hexo-theme-<span class="keyword">next</span> themes/<span class="keyword">next</span></span><br></pre></td></tr></table></figure></li><li><p>在blog/config.yml中配置主题</p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme: <span class="keyword">next</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="新建blog文件"><a href="#新建blog文件" class="headerlink" title="新建blog文件"></a>新建blog文件</h2><ul><li>hexo new “Hexo教程”</li><li><p>添加标题及其分类信息</p><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">title: Hello World</span><br><span class="line">date: 2016<span class="string">-01</span><span class="string">-15</span> 20:19:32</span><br><span class="line"><span class="keyword">tags:</span> [SayHi]</span><br><span class="line">categories: SayHi</span><br><span class="line">toc: true</span><br><span class="line">mathjax: true</span><br></pre></td></tr></table></figure></li><li><p>或者 在blog目录下可以写成脚本</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">yy</span>=$(date +%Y)</span><br><span class="line"><span class="attribute">mm</span>=$(date +%m)</span><br><span class="line"><span class="attribute">dd</span>=$(date +%d)</span><br><span class="line"><span class="attribute">HH</span>=$(date +%H)</span><br><span class="line"><span class="attribute">MM</span>=$(date +%M)</span><br><span class="line"><span class="attribute">SS</span>=$(date +%S)</span><br><span class="line"><span class="attribute">filename</span>=<span class="string">"11111"</span></span><br><span class="line"><span class="attribute">filepostfix</span>=<span class="string">".md"</span></span><br><span class="line">cd source/_posts</span><br><span class="line">touch <span class="variable">$filename</span><span class="variable">$filepostfix</span></span><br><span class="line">echo &gt; <span class="variable">$filename</span><span class="variable">$filepostfix</span></span><br><span class="line">echo <span class="string">"---"</span> &gt;&gt; <span class="variable">$filename</span><span class="variable">$filepostfix</span></span><br><span class="line">echo <span class="string">"title: <span class="variable">$filename</span>"</span> &gt;&gt; <span class="variable">$filename</span><span class="variable">$filepostfix</span></span><br><span class="line">echo <span class="string">"date: <span class="variable">$yy</span>-<span class="variable">$mm</span>-<span class="variable">$dd</span> <span class="variable">$HH</span>:<span class="variable">$MM</span>:<span class="variable">$SS</span>"</span> &gt;&gt; <span class="variable">$filename</span><span class="variable">$filepostfix</span></span><br><span class="line">echo <span class="string">"tags: [2222,3333,4444]"</span> &gt;&gt; <span class="variable">$filename</span><span class="variable">$filepostfix</span></span><br><span class="line">echo <span class="string">"categories: 5555"</span> &gt;&gt; <span class="variable">$filename</span><span class="variable">$filepostfix</span></span><br><span class="line">echo <span class="string">"toc: true"</span> &gt;&gt; <span class="variable">$filename</span><span class="variable">$filepostfix</span></span><br><span class="line">echo <span class="string">"mathjax: true"</span> &gt;&gt; <span class="variable">$filename</span><span class="variable">$filepostfix</span></span><br><span class="line">echo <span class="string">"---"</span> &gt;&gt; <span class="variable">$filename</span><span class="variable">$filepostfix</span></span><br><span class="line">cd <span class="built_in">..</span>/<span class="built_in">..</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="将github-pages绑定自己的域名"><a href="#将github-pages绑定自己的域名" class="headerlink" title="将github pages绑定自己的域名"></a>将github pages绑定自己的域名</h2><ul><li>在阿里云控制台找到域名管理</li><li>在阿里云上购买自己的域名<a href="https://help.aliyun.com/product/35473.html" target="_blank" rel="noopener">注册地址</a></li><li>在xjdlb/xjdlb.github.io/settings中Custom domain处添加自己的域名，不要http://和www</li><li>ping <a href="https://xjdlb.github.io/" target="_blank" rel="noopener">https://xjdlb.github.io/</a> 查看github pages的ip</li><li>添加解析</li></ul><table><thead><tr><th>记录类型</th><th>主机记录</th><th>解析线路</th><th>记录值</th><th>TTL值</th></tr></thead><tbody><tr><td>A</td><td>@</td><td>默认</td><td>151.101.41.147</td><td>600</td></tr><tr><td>A</td><td>www</td><td>默认</td><td>151.101.41.147</td><td>600</td></tr></tbody></table><ul><li>使用自己的域名测试</li></ul><h2 id="CNAME问题"><a href="#CNAME问题" class="headerlink" title="CNAME问题"></a>CNAME问题</h2><p>问题：每次hexo deploy之后，<a href="https://www.leebin.top" target="_blank" rel="noopener">https://www.leebin.top</a> 都会出现404错误<br>一般解决：Github pages–&gt;Settings–&gt;Custom domain<br>最优解决：在将CNAME文件放在source目录下，CNAME文件内容为：leebin.top</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文描述了如何使用github pages和hexo搭建自己的博客。&lt;br&gt;
    
    </summary>
    
      <category term="配置" scheme="http://yoursite.com/categories/%E9%85%8D%E7%BD%AE/"/>
    
    
      <category term="列表" scheme="http://yoursite.com/tags/%E5%88%97%E8%A1%A8/"/>
    
      <category term="github" scheme="http://yoursite.com/tags/github/"/>
    
      <category term="pages" scheme="http://yoursite.com/tags/pages/"/>
    
      <category term="hexo" scheme="http://yoursite.com/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>如何利用ubuntu实现私有git服务端-附ssh操作？</title>
    <link href="http://yoursite.com/2018/03/27/%E5%A6%82%E4%BD%95%E5%88%A9%E7%94%A8ubuntu%E5%AE%9E%E7%8E%B0%E7%A7%81%E6%9C%89git%E6%9C%8D%E5%8A%A1%E7%AB%AF-%E9%99%84ssh%E6%93%8D%E4%BD%9C%EF%BC%9F/"/>
    <id>http://yoursite.com/2018/03/27/如何利用ubuntu实现私有git服务端-附ssh操作？/</id>
    <published>2018-03-27T03:00:00.000Z</published>
    <updated>2018-04-03T15:08:28.194Z</updated>
    
    <content type="html"><![CDATA[<p>本文介绍如何利用云服务器实现私有git服务端，包含了git新建仓库、本地与服务器的ssh互连、保留gitlog迁移git的方法、以及创建仓库的自动化脚本。<br><a id="more"></a></p><h2 id="在服务端下载git"><a href="#在服务端下载git" class="headerlink" title="在服务端下载git"></a>在服务端下载git</h2><ul><li>下载安装git<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt-<span class="builtin-name">get</span> update</span><br><span class="line">apt-<span class="builtin-name">get</span> install git -y</span><br></pre></td></tr></table></figure></li></ul><h2 id="配置git用户"><a href="#配置git用户" class="headerlink" title="配置git用户"></a>配置git用户</h2><ul><li>添加git用户<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">useradd git</span></span><br><span class="line"><span class="attribute">passwd git</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="通过ssh客户端和服务器互连"><a href="#通过ssh客户端和服务器互连" class="headerlink" title="通过ssh客户端和服务器互连"></a>通过ssh客户端和服务器互连</h2><ul><li><p>客户端生成ssh密钥</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git<span class="built_in"> config </span>--global user.name <span class="string">"你的GitHub用户名"</span></span><br><span class="line">git<span class="built_in"> config </span>--global user.email <span class="string">"你的GitHub注册邮箱"</span></span><br><span class="line">ssh-keygen -t rsa -C <span class="string">"你的GitHub注册邮箱"</span></span><br><span class="line">cat ~/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure></li><li><p>或者 上述操作可以集成为无交互的脚本在本地直接执行即可</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">y</span>=$(date +%y)</span><br><span class="line"><span class="attribute">m</span>=$(date +%m)</span><br><span class="line"><span class="attribute">d</span>=$(date +%d)</span><br><span class="line"><span class="attribute">H</span>=$(date +%H)</span><br><span class="line"><span class="attribute">M</span>=$(date +%M)</span><br><span class="line"><span class="attribute">S</span>=$(date +%S)</span><br><span class="line"><span class="attribute">path</span>=$(pwd)</span><br><span class="line">cd ~</span><br><span class="line">git<span class="built_in"> config </span>--global user.name <span class="string">"bin_lee"</span></span><br><span class="line">git<span class="built_in"> config </span>--global user.email <span class="string">"xjd.binlee@qq.com"</span></span><br><span class="line"><span class="comment">#cd ~/.ssh</span></span><br><span class="line">tar -zcvf ssh_binlee_backup_<span class="variable">$y</span>-<span class="variable">$m</span>-<span class="variable">$d</span>-<span class="variable">$H</span>-<span class="variable">$M</span>-<span class="variable">$S</span>.tar.gz .ssh</span><br><span class="line">rm -rfd ~/.ssh</span><br><span class="line"><span class="comment"># ssh-keygen -t rsa -C "xjd.binlee@qq.com"</span></span><br><span class="line">ssh-keygen -t rsa -P <span class="string">""</span> -C <span class="string">"xjd.binlee@qq.com"</span> -f ~/.ssh/id_rsa</span><br><span class="line">cat ~/.ssh/id_rsa.pub</span><br><span class="line">cd <span class="variable">$path</span></span><br></pre></td></tr></table></figure></li><li><p>服务端安装ssh并实现xshell连接</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#安装</span></span><br><span class="line">sudo apt-<span class="builtin-name">get</span> install openssh-server -y</span><br><span class="line">sudo ps -e |grep ssh</span><br><span class="line">sudo<span class="built_in"> service </span>ssh start</span><br><span class="line">sudo passwd root</span><br><span class="line">sudo vi /etc/ssh/sshd_config</span><br><span class="line">PermitRootLogin prohibit-password</span><br><span class="line">PermitRootLogin <span class="literal">yes</span></span><br><span class="line">sudo<span class="built_in"> service </span>ssh restart</span><br><span class="line"><span class="comment">#在服务器的指定用户目录下</span></span><br><span class="line">mkdir -p /root/.ssh</span><br><span class="line">touch authorized_keys</span><br></pre></td></tr></table></figure></li><li><p>将上述生成的密钥文件添加到服务端</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo <span class="string">"密钥"</span> <span class="meta">&gt;&gt; </span>/root/.ssh/authorized_keys</span><br></pre></td></tr></table></figure></li><li><p>客户端测试连通性</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@gitee.com</span><br><span class="line">或者</span><br><span class="line">ssh -T git@server_ip</span><br></pre></td></tr></table></figure></li></ul><h2 id="新建git仓库并使用"><a href="#新建git仓库并使用" class="headerlink" title="新建git仓库并使用"></a>新建git仓库并使用</h2><ul><li><p>新建git仓库</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir -<span class="selector-tag">p</span> /srv/git/repos/xxx.git</span><br><span class="line">cd /srv/git/repos</span><br></pre></td></tr></table></figure></li><li><p>初始化git仓库</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init --bare <span class="regexp">/srv/gi</span>t<span class="regexp">/repos/</span>xxx.git</span><br></pre></td></tr></table></figure></li><li><p>设置git仓库的访问权限</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd /srv/git/repos</span><br><span class="line">chmod -R <span class="number">775</span> xxx.git</span><br><span class="line">chown -R git xxx.git</span><br><span class="line">chgrp -R git xxx.git</span><br></pre></td></tr></table></figure></li><li><p>克隆git仓库并测试</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone git<span class="variable">@server_ip</span><span class="symbol">:/srv/git/repos/xxx</span>.git</span><br></pre></td></tr></table></figure></li></ul><h2 id="大招-将上述操作合并为git脚本"><a href="#大招-将上述操作合并为git脚本" class="headerlink" title="大招 将上述操作合并为git脚本"></a>大招 将上述操作合并为git脚本</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">apt-get update</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"----------------------------------------"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"&gt;&gt;&gt; update finished..."</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"----------------------------------------"</span></span><br><span class="line">apt-get install git -y</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"----------------------------------------"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"&gt;&gt;&gt; install finished..."</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"----------------------------------------"</span></span><br><span class="line"><span class="comment">#useradd git</span></span><br><span class="line"><span class="comment">#passwd git</span></span><br><span class="line"><span class="comment">#or</span></span><br><span class="line"><span class="comment">#openssl passwd -stdin</span></span><br><span class="line">useradd -p <span class="string">"8iENHwQTXrdZM"</span> git</span><br><span class="line"><span class="comment">#change passwd</span></span><br><span class="line">touch chpass.txt</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"git:hest"</span> &gt;&gt; chpass.txt</span><br><span class="line">chpasswd &lt; chpass.txt</span><br><span class="line">rm -rf chpass.txt</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"----------------------------------------"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"&gt;&gt;&gt; useradd and reset passwd finished..."</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"----------------------------------------"</span></span><br><span class="line">key=<span class="string">"ssh-rsa AAA......."</span></span><br><span class="line">mkdir -p /home/git/.ssh</span><br><span class="line">touch /home/git/.ssh/authorized_keys</span><br><span class="line"><span class="comment">#vim /home/git/.ssh/authorized_keys</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$&#123;key&#125;</span>"</span> &gt;&gt; /home/git/.ssh/authorized_keys</span><br><span class="line">cat /home/git/.ssh/authorized_keys</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"----------------------------------------"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"&gt;&gt;&gt; add authorized_keys finished..."</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"----------------------------------------"</span></span><br><span class="line">respos_path=<span class="string">"/srv/git/respos/"</span></span><br><span class="line">project_name=<span class="string">"test.git"</span></span><br><span class="line">project_path=<span class="variable">$&#123;respos_path&#125;</span><span class="variable">$&#123;project_name&#125;</span></span><br><span class="line">mkdir -p <span class="variable">$&#123;project_path&#125;</span></span><br><span class="line">git init --bare <span class="variable">$&#123;project_path&#125;</span></span><br><span class="line">chmod -R 775 <span class="variable">$&#123;project_path&#125;</span></span><br><span class="line">chown -R git <span class="variable">$&#123;project_path&#125;</span></span><br><span class="line">chgrp -R git <span class="variable">$&#123;project_path&#125;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"----------------------------------------"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"init git respos finished..."</span></span><br><span class="line">my_ip=$(/sbin/ifconfig -a|grep inet|grep -v 127.0.0.1|grep -v inet6|awk <span class="string">'&#123;print $2&#125;'</span>|tr -d <span class="string">"addr:"</span>)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"git clone git@<span class="variable">$&#123;my_ip&#125;</span>:<span class="variable">$&#123;project_path&#125;</span>"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"----------------------------------------"</span></span><br></pre></td></tr></table></figure><h2 id="如果出错销毁服务端git"><a href="#如果出错销毁服务端git" class="headerlink" title="如果出错销毁服务端git"></a>如果出错销毁服务端git</h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">userdel -r git</span><br><span class="line">rm -rdf <span class="regexp">/srv/gi</span>t<span class="regexp">/</span></span><br></pre></td></tr></table></figure><h2 id="如果服务器出现问题，保留gitlog迁移git的方法"><a href="#如果服务器出现问题，保留gitlog迁移git的方法" class="headerlink" title="如果服务器出现问题，保留gitlog迁移git的方法"></a>如果服务器出现问题，保留gitlog迁移git的方法</h2><figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#在源服务器上裸克隆</span></span><br><span class="line"><span class="string">git </span><span class="string">clone </span><span class="built_in">--bare</span> <span class="string">git:</span>//<span class="string">github.</span><span class="string">com/</span><span class="string">username/</span><span class="string">project.</span><span class="string">git</span></span><br><span class="line"><span class="string">cd </span><span class="string">project.</span><span class="string">git</span></span><br><span class="line"><span class="string">#</span>镜像上传到新的服务器上</span><br><span class="line"><span class="string">git </span><span class="string">push </span><span class="built_in">--mirror</span> <span class="string">git@</span><span class="string">gitcafe.</span><span class="string">com/</span><span class="string">username/</span><span class="string">newproject.</span><span class="string">git</span></span><br><span class="line"><span class="string">cd </span>..</span><br><span class="line"><span class="string">rm </span>-<span class="string">rf </span><span class="string">project.</span><span class="string">git</span></span><br><span class="line"><span class="string">#</span>克隆新服务器下的工程到客户端</span><br><span class="line"><span class="string">git </span><span class="string">clone </span><span class="string">git@</span><span class="string">gitcafe.</span><span class="string">com/</span><span class="string">username/</span><span class="string">newproject.</span><span class="string">git</span></span><br><span class="line"><span class="string">#</span>设置新的上传<span class="string">url为</span>新服务器的地址</span><br><span class="line"><span class="string">git </span><span class="string">remote </span><span class="built_in">set-url</span> <span class="string">origin </span><span class="string">remote_git_address</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文介绍如何利用云服务器实现私有git服务端，包含了git新建仓库、本地与服务器的ssh互连、保留gitlog迁移git的方法、以及创建仓库的自动化脚本。&lt;br&gt;
    
    </summary>
    
      <category term="配置" scheme="http://yoursite.com/categories/%E9%85%8D%E7%BD%AE/"/>
    
    
      <category term="列表" scheme="http://yoursite.com/tags/%E5%88%97%E8%A1%A8/"/>
    
      <category term="git" scheme="http://yoursite.com/tags/git/"/>
    
      <category term="配置" scheme="http://yoursite.com/tags/%E9%85%8D%E7%BD%AE/"/>
    
  </entry>
  
  <entry>
    <title>如何利用VPS搭建自己的ss服务器？</title>
    <link href="http://yoursite.com/2018/03/27/%E6%90%AD%E5%BB%BAss%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    <id>http://yoursite.com/2018/03/27/搭建ss服务器/</id>
    <published>2018-03-27T02:00:00.000Z</published>
    <updated>2018-04-03T15:26:18.299Z</updated>
    
    <content type="html"><![CDATA[<p>本文描述了如何在ubuntu服务器上快速搭建自己的shadowcoks代理服务器。<br><a id="more"></a></p><h2 id="以详细步骤安装配置启动过程"><a href="#以详细步骤安装配置启动过程" class="headerlink" title="以详细步骤安装配置启动过程"></a>以详细步骤安装配置启动过程</h2><h3 id="1-安装ss"><a href="#1-安装ss" class="headerlink" title="1.安装ss"></a>1.安装ss</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apt-<span class="builtin-name">get</span> update</span><br><span class="line">sudo apt-<span class="builtin-name">get</span> install python-pip -y</span><br><span class="line">sudo pip install shadowsocks</span><br></pre></td></tr></table></figure><h3 id="2-配置"><a href="#2-配置" class="headerlink" title="2.配置"></a>2.配置</h3><figure class="highlight dts"><figcaption><span>[shell]</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mkdir <span class="meta-keyword">/etc/</span>shadowsocks</span><br><span class="line">touch <span class="meta-keyword">/etc/</span>shadowsocks/ss_config.json</span><br><span class="line">vim <span class="meta-keyword">/etc/</span>shadowsocks/ss_config.json</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"server"</span>: <span class="string">"165.227.213.57"</span>,</span><br><span class="line">  <span class="string">"port_password"</span>: &#123;</span><br><span class="line">      <span class="string">"10001"</span>: <span class="string">"112345678a!"</span>,</span><br><span class="line">      <span class="string">"10002"</span>: <span class="string">"112345678a!"</span>,</span><br><span class="line">      <span class="string">"10003"</span>: <span class="string">"112345678a!"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"local_port"</span>: <span class="number">1080</span>,</span><br><span class="line">  <span class="string">"timeout"</span>: <span class="number">600</span>,</span><br><span class="line">  <span class="string">"method"</span>: <span class="string">"aes-256-cfb"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mkdir <span class="meta-keyword">/etc/</span>shadowsocks</span><br><span class="line">touch <span class="meta-keyword">/etc/</span>shadowsocks/ss_config.json</span><br><span class="line">vim <span class="meta-keyword">/etc/</span>shadowsocks/ss_config.json</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"server"</span>: <span class="string">"165.227.213.57"</span>,</span><br><span class="line">  <span class="string">"port_password"</span>: &#123;</span><br><span class="line">      <span class="string">"10001"</span>: <span class="string">"112345678a!"</span>,</span><br><span class="line">      <span class="string">"10002"</span>: <span class="string">"112345678a!"</span>,</span><br><span class="line">      <span class="string">"10003"</span>: <span class="string">"112345678a!"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"local_port"</span>: <span class="number">1080</span>,</span><br><span class="line">  <span class="string">"timeout"</span>: <span class="number">600</span>,</span><br><span class="line">  <span class="string">"method"</span>: <span class="string">"aes-256-cfb"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-启动"><a href="#3-启动" class="headerlink" title="3.启动"></a>3.启动</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> ~</span><br><span class="line">touch start.<span class="keyword">sh</span></span><br><span class="line">chmod <span class="number">775</span> start.<span class="keyword">sh</span></span><br><span class="line"><span class="keyword">vim</span> start.<span class="keyword">sh</span></span><br><span class="line"></span><br><span class="line">ssserver -<span class="keyword">c</span> /etc/shadowsocks/ss_config.json -d start</span><br><span class="line">ssserver -<span class="keyword">c</span> /etc/shadowsocks/ss_config_multiple.json -d start</span><br><span class="line">netstat -ntlp | <span class="keyword">grep</span> <span class="keyword">python</span></span><br><span class="line"></span><br><span class="line">touch <span class="keyword">stop</span>.<span class="keyword">sh</span></span><br><span class="line">chmod <span class="number">775</span> <span class="keyword">stop</span>.<span class="keyword">sh</span></span><br><span class="line"><span class="keyword">vim</span> <span class="keyword">stop</span>.<span class="keyword">sh</span></span><br><span class="line"></span><br><span class="line">ssserver -<span class="keyword">c</span> /etc/shadowsocks/ss_config.json -d <span class="keyword">stop</span></span><br><span class="line">ssserver -<span class="keyword">c</span> /etc/shadowsocks/ss_config_multiple.json -d <span class="keyword">stop</span></span><br><span class="line">netstat -ntlp | <span class="keyword">grep</span> <span class="keyword">python</span></span><br></pre></td></tr></table></figure><h2 id="用脚本实现一键安装"><a href="#用脚本实现一键安装" class="headerlink" title="用脚本实现一键安装"></a>用脚本实现一键安装</h2><h3 id="1-创建配置启动脚本"><a href="#1-创建配置启动脚本" class="headerlink" title="1.创建配置启动脚本"></a>1.创建配置启动脚本</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">创建x脚本</span><br><span class="line">touch x &amp;&amp; chmod 775 x &amp;&amp; vim x</span><br><span class="line">直接复制到x脚本里面</span><br><span class="line">cd ~ &amp;&amp; touch ss_cfg.json</span><br><span class="line">ip="162.243.161.150"</span><br><span class="line">echo "&#123;" &gt;&gt; ss_cfg.json</span><br><span class="line">echo "\"server\": \"$&#123;ip&#125;\"," &gt;&gt; ss_cfg.json</span><br><span class="line">echo "\"port_password\": &#123;" &gt;&gt; ss_cfg.json</span><br><span class="line">echo "\"10001\": \"helloworld\"," &gt;&gt; ss_cfg.json</span><br><span class="line">echo "\"10002\": \"helloworld\"," &gt;&gt; ss_cfg.json</span><br><span class="line">echo "\"10003\": \"helloworld\"" &gt;&gt; ss_cfg.json</span><br><span class="line">echo "&#125;," &gt;&gt; ss_cfg.json</span><br><span class="line">echo "\"local_port\": 1080," &gt;&gt; ss_cfg.json</span><br><span class="line">echo "\"timeout\": 600," &gt;&gt; ss_cfg.json</span><br><span class="line">echo "\"method\": \"aes-256-cfb\"" &gt;&gt; ss_cfg.json</span><br><span class="line">echo "&#125;" &gt;&gt; ss_cfg.json</span><br><span class="line">cd ~</span><br><span class="line">touch sta.sh &amp;&amp; chmod 775 sta.sh</span><br><span class="line">echo "ssserver -c ~/ss_cfg.json -d start" &gt;&gt; ~/sta.sh</span><br><span class="line">echo "netstat -ntlp | grep python" &gt;&gt; ~/sta.sh</span><br><span class="line">touch sto.sh &amp;&amp; chmod 775 sto.sh</span><br><span class="line">echo "ssserver -c ~/ss_cfg.json -d stop" &gt;&gt; ~/sto.sh</span><br><span class="line">echo "netstat -ntlp | grep python" &gt;&gt; ~/sto.sh</span><br><span class="line">echo "-------------report-------------------"</span><br><span class="line">echo "the fie list as follows:"</span><br><span class="line">ls</span><br><span class="line">echo "-------------start ss-----------------"</span><br><span class="line">./sta.sh</span><br><span class="line">echo "-------------your ss config-----------"</span><br><span class="line">echo "ip=$&#123;ip&#125;"</span><br><span class="line">echo "port=10001, password=helloworld"</span><br><span class="line">echo "port=10002, password=helloworld"</span><br><span class="line">echo "port=10003, password=helloworld"</span><br><span class="line">echo "local_port=1080"</span><br><span class="line">echo "timeout=600"</span><br><span class="line">echo "method=aes-256-cfb"</span><br><span class="line">echo "-------------end---------------------"</span><br></pre></td></tr></table></figure><h3 id="2-启动服务"><a href="#2-启动服务" class="headerlink" title="2.启动服务"></a>2.启动服务</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">运行x脚本</span><br><span class="line">./x</span><br><span class="line">启动服务</span><br><span class="line">./sta.sh</span><br><span class="line">关闭服务</span><br><span class="line">./sto.sh</span><br><span class="line">删除文件</span><br><span class="line">rm -rf x ss_cfg<span class="selector-class">.json</span> sta<span class="selector-class">.sh</span> sto<span class="selector-class">.sh</span> &amp;&amp; touch x &amp;&amp; chmod <span class="number">775</span> x &amp;&amp; vim x</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文描述了如何在ubuntu服务器上快速搭建自己的shadowcoks代理服务器。&lt;br&gt;
    
    </summary>
    
      <category term="配置" scheme="http://yoursite.com/categories/%E9%85%8D%E7%BD%AE/"/>
    
    
      <category term="列表" scheme="http://yoursite.com/tags/%E5%88%97%E8%A1%A8/"/>
    
      <category term="配置" scheme="http://yoursite.com/tags/%E9%85%8D%E7%BD%AE/"/>
    
      <category term="ss" scheme="http://yoursite.com/tags/ss/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://yoursite.com/2018/03/27/hello-world/"/>
    <id>http://yoursite.com/2018/03/27/hello-world/</id>
    <published>2018-03-27T01:00:00.000Z</published>
    <updated>2018-03-28T06:40:02.023Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><a id="more"></a><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;documentation&lt;/a&gt; for more info. If you get any problems when using Hexo, you can find the answer in &lt;a href=&quot;https://hexo.io/docs/troubleshooting.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;troubleshooting&lt;/a&gt; or you can ask me on &lt;a href=&quot;https://github.com/hexojs/hexo/issues&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;
    
    </summary>
    
      <category term="SayHi" scheme="http://yoursite.com/categories/SayHi/"/>
    
    
      <category term="列表" scheme="http://yoursite.com/tags/%E5%88%97%E8%A1%A8/"/>
    
      <category term="SayHi" scheme="http://yoursite.com/tags/SayHi/"/>
    
  </entry>
  
</feed>
